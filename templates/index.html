<!DOCTYPE html>
<html lang="en">
	<head>
		<meta http-equiv="content-type" content="text/html; charset=UTF-8">
		<meta charset="utf-8">
		<title>Bus Timer</title>
		<meta name="generator" content="Bootply" />
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
    <link rel="stylesheet" href="{{ url_for(".static", filename="css/styles.css") }}">
</head>
	<body>
<!-- begin template -->
<div class="navbar navbar-custom navbar-fixed-top">
 <div class="navbar-header"><a class="navbar-brand" href="#">RTD Bus Timer</a>
      <a class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </a>
    </div>
</div>

<div id="map-canvas">
</div>
<div class="container-fluid" id="main">
  <div class="row">
    <!-- Size text defined here. Define size of map in styles.css -->
    <div class="col-xs-4" id="left">
    
    <!-- <h3>Select a bus line, a stop, and a distance to be woken up!</h3>-->   
    <h3> SELECT A WAKEUP DISTANCE TO ACTIVATE THE MAP </h3>   
      
      <!-- item list -->
      <div class="panel panel-default">
        <div class="panel-heading"><h4>Bus Line</h4></div>
      </div>
        <!-- TODO, POPULATE THIS FROM DATABSE -->
        <select class="form-control" id="busLineSelect">
          <option selected="selected" disabled="disabled">Select a Bus Line</option>
<!--           <option value="1">BV</option>
          <option value="2">BX</option>
          <option value="3">BMX</option>
          <option value="4">Foo</option>
          <option value="5">Bar</option> -->
        </select>
      <hr>
      
      <div class="panel panel-default">
        <div class="panel-heading"><h4>Desired Stop</h4></div>
      </div>
        <!-- TODO, POPULATE THIS FROM DATABSE -->
        <select class="form-control" id="busStopSelect">
          <option selected="selected" disabled="disabled">Select a Stop</option>
<!--           <option value="boulder_transit_center">boulder_transit_center</option>
          <option value="broadway_16th">broadway_16th</option>
          <option value="broadway_27th">broadway_27th</option>
          <option value="table_mesa_pr">table_mesa_pr</option>
          <option value="mcaslin_pr">mcaslin_pr</option>   
          <option value="flatiron_circle_pr">flatiron_circle_pr</option>
          <option value="church_ranch_pr">church_ranch_pr</option>
          <option value="wewatta_21st">wewatta_21st</option>
          <option value="union_station">union_station</option> -->
        </select>
      <hr>      

      <div class="panel panel-default">
        <div class="panel-heading"><h4>Wakeup distance</h4></div>
      </div>
        <select class="form-control" id="toleranceSelect">
          <option selected="selected" disabled="disabled">Select a Distance to wakeup to activate</option>
          <option value="5000">5000 meters</option>
          <option value="2500">2500 meters</option>
          <option value="1500">1500 meters</option>
          <option value="1000">1000 meters</option>
          <option value="500">500 meters</option>
        </select>
      <hr>      
      <div class="center-block btn btn-primary" id="startButton">Start</div>
      
      <hr>

      <div class="panel panel-default">
        <div class="panel-heading"><h4>About </h4></div>
      </div>
      <p>This is for our Data Engineering Class -- PUT INFO ABOUT THE PROGRAM HERE</p>

<!--       <hr>
      <p>
      <a href="http://www.bootply.com/render/129229">Demo</a> | <a href="http://bootply.com/129229">Source Code</a>
      </p> -->
      
      <hr>    
      <p>
      <a href="https://github.com/antsankov/rtd-gps" target="_ext" class="center-block btn btn-primary">Check out the Source Code!</a>
      </p>
        
      <hr>      

    </div>    
  </div>
<!-- end template -->


	<!-- script references -->
		<script src="http://ajax.googleapis.com/ajax/libs/jquery/2.0.2/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>    
    <script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDh5Yw1A9sdux0lFCw3cjBN4UdKRwOukSo&sensor=false&libraries=geometry"></script>
    <!--     <script src="{{ url_for(".static", filename="js/rtdGps.js") }}"></script>-->    
    <script src="http://fgnass.github.io/spin.js/spin.min.js"></script>
    <script src="{{ url_for(".static", filename="js/rtdGps.js") }}"></script>
	</body>


    <script>
      var busLineForm = document.getElementById('busLineSelect')
      //these are the routes given by python
      var routes = {{ busRoutes|safe }}
      console.log(routes)
      //go through all of the routes, and add them to the bus lines. 
      for (route of routes){
        var routeString = route.properties.ROUTE

        var x = document.createElement("OPTION");
        x.setAttribute("value", route.properties.ROUTE);

        var t = document.createTextNode(route.properties.ROUTE);
        x.appendChild(t);

        document.getElementById('busLineSelect').appendChild(x);
      }

    </script>

</html>